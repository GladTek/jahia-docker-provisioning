# Start with the provisioning script from Tutorial #3
- include: https://raw.githubusercontent.com/Jahia/provisioning-tutorials/main/03-augmented-search/provisioning.yaml

# Install Forms
- installAndStartBundle: 'mvn:org.jahia.modules/forms-core/3.2.0'
- startBundle: 'forms-core/3.2.0'
- installAndStartBundle: 'mvn:org.jahia.modules/forms-snippets-extension/3.0.0'
- startBundle: 'forms-snippets-extension/3.0.0'
- installAndStartBundle: 'mvn:org.jahia.modules/forms-nocss-theme/2.0.0'
- startBundle: 'forms-nocss-theme/2.0.0'
- installAndStartBundle: 'mvn:org.jahia.modules/forms-prefill/2.0.0'
- startBundle: 'forms-prefill/2.0.0'
- installAndStartBundle: 'mvn:org.jahia.modules/forms-extended-inputs/2.0.0'
- startBundle: 'forms-extended-inputs/2.0.0'

# Install jExperience module
- installAndStartBundle: 'mvn:org.jahia.modules/jexperience/2.0.0'
- startBundle: 'jexperience/2.0.0'

# Enable jExperience on digitall
- enable: "jexperience"
  site: "digitall"

# Configure jExperience
- editConfiguration: "org.jahia.modules.jexperience"
  configIdentifier: "settings-global"
  properties: 
    jexperience.jCustomerURL: "https://jcustomer:9443"
    jexperience.jCustomerUsername: "karaf"
    jexperience.jCustomerPassword: "karaf"
    jexperience.jCustomerTrustAllCertificates: "true"
    jexperience.jCustomerUsePublicAddressesForAdmin: "false"
    jexperience.jCustomerKey: "670c26d1cc413346c3b2fd9ce65dab41"

